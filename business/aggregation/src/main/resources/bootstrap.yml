server:
  port: 8311

spring:
  datasource:
    url: jdbc:h2:mem:dbtest
    username: sa
    password: sa
    driver-class-name: org.h2.Driver
    schema: classpath:db/schema.sql
    data: classpath:db/data.sql
    platform: h2
  h2:
    console:
      settings:
        web-allow-others: true

      path: /h2
      enabled: true

  application:
    name: hishop-aggregation  #和SpringCloudConig的配置文件前缀一样
  profiles:
    active: dev
  cloud:
    config:
      uri: http://140.143.158.164:8000/
      label: master
      profile: dev
      name: ${spring.application.name},common,redis
feign:
  client:
    config:
#      default: #全局超时配置 connectTimeout和readTimeout都要配置，否则会以ribbon的配置为主（都是1000）
#        connectTimeout: 2000
#        readTimeout: 2200
      hishop-user: #具体服务超时配置，FeignClient的value，区分大小写
        connectTimeout: 5000
        readTimeout: 5000
      hishop-goods: #具体服务超时配置，FeignClient的value，区分大小写
        connectTimeout: 5000
        readTimeout: 5000
      hishop-order: #具体服务超时配置，FeignClient的value，区分大小写
        connectTimeout: 5000
        readTimeout: 5000
  #开启hystrix
  hystrix:
    enabled: true

hystrix:
  command:
    default:
      execution:
        #isolation:
          #thread:
            #timeoutInMilliseconds: 20000 #hystrix超时时间，默认1秒
        timeout:
          enabled: false #hystrix从不超时

# 监控配置
management:
  endpoint:
    health:
      show-details: always
  endpoints:
    web:
      exposure:
        include: "*"
        #exclude: beans #不暴露beans端点